<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrightBox - Interaktiver Umsatz-Rechner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #1e293b;
            background: #f8fafc;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 60px 40px;
            border-radius: 16px;
            margin-bottom: 40px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.95;
            font-weight: 300;
        }
        
        .controls-panel {
            background: white;
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 3px solid #10b981;
        }
        
        .controls-header {
            font-size: 1.8rem;
            color: #10b981;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #d1fae5;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .control-group {
            background: #f8fafc;
            padding: 25px;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
        }
        
        .control-group label {
            display: block;
            font-weight: 600;
            color: #475569;
            margin-bottom: 12px;
            font-size: 1rem;
        }
        
        .control-group input[type="number"],
        .control-group input[type="range"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 8px;
        }
        
        .control-group input[type="range"] {
            padding: 0;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: #e2e8f0;
            outline: none;
        }
        
        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #10b981;
            cursor: pointer;
            border-radius: 50%;
        }
        
        .control-group input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #10b981;
            cursor: pointer;
            border-radius: 50%;
            border: none;
        }
        
        .value-display {
            font-size: 1.5rem;
            font-weight: 700;
            color: #10b981;
            margin-top: 8px;
        }
        
        .key-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .metric-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-left: 5px solid #10b981;
        }
        
        .metric-card .label {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 8px;
        }
        
        .metric-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: #10b981;
        }
        
        .section {
            background: white;
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .section-title {
            font-size: 1.8rem;
            color: #10b981;
            margin-bottom: 30px;
            padding-bottom: 12px;
            border-bottom: 3px solid #d1fae5;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95rem;
        }
        
        thead {
            background: #f1f5f9;
        }
        
        th {
            padding: 16px;
            text-align: left;
            font-weight: 600;
            color: #475569;
            border-bottom: 2px solid #e2e8f0;
        }
        
        td {
            padding: 16px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        tbody tr:hover {
            background: #f8fafc;
        }
        
        .highlight-row {
            background: #d1fae5 !important;
            font-weight: 600;
        }
        
        .scenario-conservative {
            background: #fef3c7;
        }
        
        .scenario-realistic {
            background: #d1fae5;
        }
        
        .scenario-optimistic {
            background: #dbeafe;
        }
        
        .reset-btn {
            background: #ef4444;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
        }
        
        .reset-btn:hover {
            background: #dc2626;
        }
        
        .export-btn {
            background: #10b981;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .export-btn:hover {
            background: #059669;
        }
        
        .insight-box {
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid;
        }
        
        .insight-box.success {
            background: #f0fdf4;
            border-left-color: #10b981;
        }
        
        .insight-box.warning {
            background: #fef2f2;
            border-left-color: #ef4444;
        }
        
        .insight-box.info {
            background: #eff6ff;
            border-left-color: #3b82f6;
        }
        
        .calculation-box {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
        }
        
        /* VERSION MANAGER STYLES */
        .version-manager {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 3px solid #6366f1;
        }
        
        .version-header {
            font-size: 1.8rem;
            color: #6366f1;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .version-controls {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .version-controls input,
        .version-controls select,
        .version-controls button {
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            font-size: 1rem;
        }
        
        .version-controls button {
            background: #6366f1;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
        }
        
        .version-controls button:hover {
            background: #4f46e5;
        }
        
        .version-controls button.delete-btn {
            background: #ef4444;
        }
        
        .version-controls button.delete-btn:hover {
            background: #dc2626;
        }
        
        .saved-versions {
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .version-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 2px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .version-item.active {
            border-color: #10b981;
            background: #f0fdf4;
        }
        
        .version-info {
            flex: 1;
        }
        
        .version-name {
            font-weight: 600;
            font-size: 1.1rem;
            color: #1e293b;
            margin-bottom: 5px;
        }
        
        .version-details {
            font-size: 0.85rem;
            color: #64748b;
        }
        
        .version-actions {
            display: flex;
            gap: 10px;
        }
        
        .version-actions button {
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .load-btn {
            background: #10b981;
            color: white;
        }
        
        .load-btn:hover {
            background: #059669;
        }
        
        .delete-version-btn {
            background: #ef4444;
            color: white;
        }
        
        .delete-version-btn:hover {
            background: #dc2626;
        }
        
        /* EDITABLE FEATURES STYLES */
        .editable-features {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border: 2px dashed #e2e8f0;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            padding: 8px;
            background: white;
            border-radius: 6px;
        }
        
        .feature-item input[type="text"] {
            flex: 1;
            padding: 8px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        .feature-item button {
            background: #ef4444;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
        }
        
        .add-feature-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
            width: 100%;
        }
        
        .add-feature-btn:hover {
            background: #059669;
        }
        
        /* EDITABLE COMMENTS */
        .editable-comment:hover {
            background: #dcfce7 !important;
            border-color: #10b981 !important;
        }
        
        .editable-comment:focus {
            outline: none;
            background: white !important;
            border-color: #10b981 !important;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üßÆ BrightBox Interaktiver Umsatz-Rechner ULTIMATE</h1>
            <p class="subtitle">Mit Versions-Management & editierbaren Features!</p>
        </div>

        <!-- VERSIONS-MANAGEMENT -->
        <div class="version-manager">
            <h2 class="version-header">üíæ Versions-Management</h2>
            <p style="color: #64748b; margin-bottom: 20px;">Speichere verschiedene Szenarien und vergleiche sie sp√§ter!</p>
            
            <div class="version-controls">
                <input type="text" id="versionName" placeholder="Version-Name (z.B. 'Konservativ 2025', 'Aggressive Expansion'...)" value="">
                <button onclick="saveVersion()">üíæ Aktuelle Version speichern</button>
                <button onclick="exportAllVersions()">üì• Alle exportieren (JSON)</button>
                <button onclick="clearAllVersions()" class="delete-btn">üóëÔ∏è Alle l√∂schen</button>
            </div>
            
            <div class="saved-versions" id="savedVersionsList">
                <div style="text-align: center; padding: 30px; color: #64748b;">
                    Keine gespeicherten Versionen. Erstelle deine erste Version!
                </div>
            </div>
        </div>

        <!-- INTERAKTIVE CONTROLS -->
        <div class="controls-panel">
            <h2 class="controls-header">‚öôÔ∏è Eingabe-Parameter (Alle Berechnungen passen sich automatisch an!)</h2>
            
            <div class="controls-grid">
                <!-- PREIS PRO SCH√úLER -->
                <div class="control-group">
                    <label for="pricePerStudent">üí∂ Preis pro Sch√ºler/Jahr</label>
                    <input type="range" id="pricePerStudent" min="0.5" max="3" step="0.01" value="1.0">
                    <input type="number" id="pricePerStudentInput" min="0.5" max="3" step="0.01" value="1.0" style="margin-top: 10px;">
                    <div class="value-display" id="priceDisplay">‚Ç¨1,00</div>
                    <div style="background: #fef3c7; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <strong>üìä Wettbewerber:</strong><br>
                        EduPage: ‚Ç¨0,70 | Sdui: ‚Ç¨1,50 | SchoolFox: ‚Ç¨2,20 | IServ: ‚Ç¨6,88
                    </div>
                </div>

                <!-- DURCHSCHNITTLICHE SCHULGR√ñSSE -->
                <div class="control-group">
                    <label for="avgSchoolSize">üë• Durchschnittliche Schulgr√∂√üe (Sch√ºler)</label>
                    <input type="range" id="avgSchoolSize" min="100" max="2000" step="50" value="500">
                    <input type="number" id="avgSchoolSizeInput" min="100" max="2000" step="10" value="500" style="margin-top: 10px;">
                    <div class="value-display" id="sizeDisplay">500 Sch√ºler</div>
                    <div style="background: #eff6ff; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <strong>üìä Deutschland √ò:</strong><br>
                        Grundschule: ~200 | Gymnasium: ~700 | Berufsschule: ~500
                    </div>
                </div>

                <!-- SETUP-GEB√úHR -->
                <div class="control-group">
                    <label for="setupFee">üéØ Setup-Geb√ºhr (einmalig)</label>
                    <input type="range" id="setupFee" min="0" max="1000" step="50" value="200">
                    <input type="number" id="setupFeeInput" min="0" max="1000" step="10" value="200" style="margin-top: 10px;">
                    <div class="value-display" id="setupDisplay">‚Ç¨200</div>
                    <div style="background: #fef3c7; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <strong>üìä Wettbewerber:</strong><br>
                        Sdui: ~‚Ç¨500 | IServ: ~‚Ç¨300-600 | EduPage: ‚Ç¨0
                    </div>
                </div>

                <!-- ENTWICKLUNGSKOSTEN -->
                <div class="control-group">
                    <label for="devCost">üíª Entwicklung (monatlich)</label>
                    <input type="range" id="devCost" min="5000" max="30000" step="1000" value="10000">
                    <input type="number" id="devCostInput" min="5000" max="50000" step="500" value="10000" style="margin-top: 10px;">
                    <div class="value-display" id="devDisplay">‚Ç¨10.000</div>
                    <div contenteditable="true" id="devComment" class="editable-comment" style="background: #f0fdf4; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem; border: 2px solid #d1fae5; min-height: 50px; cursor: text;" onblur="saveComment('devComment')">
                        <strong>üí° Benchmark:</strong><br>
                        1 Fullstack Dev: ‚Ç¨5-8k | 2 Devs: ‚Ç¨10-16k | Team (3+): ‚Ç¨20k+
                    </div>
                    <div style="font-size: 0.75rem; color: #64748b; margin-top: 5px;">üí° Klick zum Bearbeiten</div>
                </div>

                <!-- MARKETING KOSTEN -->
                <div class="control-group">
                    <label for="marketingCost">üì¢ Marketing & Sales (monatlich)</label>
                    <input type="range" id="marketingCost" min="500" max="15000" step="500" value="2000">
                    <input type="number" id="marketingCostInput" min="500" max="20000" step="100" value="2000" style="margin-top: 10px;">
                    <div class="value-display" id="marketingDisplay">‚Ç¨2.000</div>
                    <div contenteditable="true" id="marketingComment" class="editable-comment" style="background: #f0fdf4; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem; border: 2px solid #d1fae5; min-height: 50px; cursor: text;" onblur="saveComment('marketingComment')">
                        <strong>üí° Benchmark:</strong><br>
                        Fr√ºhe Phase: ‚Ç¨1-3k | Wachstum: ‚Ç¨5-10k | Scale-Up: ‚Ç¨15k+
                    </div>
                    <div style="font-size: 0.75rem; color: #64748b; margin-top: 5px;">üí° Klick zum Bearbeiten</div>
                </div>

                <!-- INFRASTRUKTUR -->
                <div class="control-group">
                    <label for="infraCost">‚òÅÔ∏è Infrastruktur/Server (monatlich)</label>
                    <input type="range" id="infraCost" min="200" max="5000" step="100" value="500">
                    <input type="number" id="infraCostInput" min="200" max="10000" step="50" value="500" style="margin-top: 10px;">
                    <div class="value-display" id="infraDisplay">‚Ç¨500</div>
                    <div contenteditable="true" id="infraComment" class="editable-comment" style="background: #f0fdf4; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem; border: 2px solid #d1fae5; min-height: 50px; cursor: text;" onblur="saveComment('infraComment')">
                        <strong>üí° Benchmark:</strong><br>
                        <100 Schulen: ‚Ç¨200-500 | 500 Schulen: ‚Ç¨1-2k | 2000+ Schulen: ‚Ç¨5k+
                    </div>
                    <div style="font-size: 0.75rem; color: #64748b; margin-top: 5px;">üí° Klick zum Bearbeiten</div>
                </div>

                <!-- SUPPORT KOSTEN -->
                <div class="control-group">
                    <label for="supportCost">üéß Support & Operations (monatlich)</label>
                    <input type="range" id="supportCost" min="500" max="10000" step="500" value="1500">
                    <input type="number" id="supportCostInput" min="500" max="15000" step="100" value="1500" style="margin-top: 10px;">
                    <div class="value-display" id="supportDisplay">‚Ç¨1.500</div>
                    <div contenteditable="true" id="supportComment" class="editable-comment" style="background: #f0fdf4; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem; border: 2px solid #d1fae5; min-height: 50px; cursor: text;" onblur="saveComment('supportComment')">
                        <strong>üí° Benchmark:</strong><br>
                        Teilzeit: ‚Ç¨1-2k | Vollzeit: ‚Ç¨3-5k | Team: ‚Ç¨8k+
                    </div>
                    <div style="font-size: 0.75rem; color: #64748b; margin-top: 5px;">üí° Klick zum Bearbeiten</div>
                </div>

                <!-- SONSTIGE KOSTEN -->
                <div class="control-group">
                    <label for="otherCost">üìã Sonstiges (Legal, Tools, etc. monatlich)</label>
                    <input type="range" id="otherCost" min="500" max="5000" step="250" value="1000">
                    <input type="number" id="otherCostInput" min="500" max="8000" step="100" value="1000" style="margin-top: 10px;">
                    <div class="value-display" id="otherDisplay">‚Ç¨1.000</div>
                    <div contenteditable="true" id="otherComment" class="editable-comment" style="background: #f0fdf4; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem; border: 2px solid #d1fae5; min-height: 50px; cursor: text;" onblur="saveComment('otherComment')">
                        <strong>üí° Inkludiert:</strong><br>
                        Buchhaltung, SaaS-Tools, Legal, Office, Versicherungen
                    </div>
                    <div style="font-size: 0.75rem; color: #64748b; margin-top: 5px;">üí° Klick zum Bearbeiten</div>
                </div>

                <!-- WACHSTUMSRATE JAHR 1 -->
                <div class="control-group">
                    <label for="growthYear1">üìà Schulen im Jahr 1 (Ende des Jahres)</label>
                    <input type="range" id="growthYear1" min="5" max="100" step="5" value="15">
                    <input type="number" id="growthYear1Input" min="5" max="100" step="1" value="15" style="margin-top: 10px;">
                    <div class="value-display" id="growth1Display">15 Schulen</div>
                    <div style="background: #eff6ff; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <strong>üìä Benchmark:</strong><br>
                        Konservativ: 5-15 | Realistisch: 15-30 | Optimistisch: 30-50
                    </div>
                </div>

                <!-- WACHSTUMSRATE JAHR 2 -->
                <div class="control-group">
                    <label for="growthYear2">üìà Schulen im Jahr 2 (kumulativ)</label>
                    <input type="range" id="growthYear2" min="20" max="500" step="10" value="60">
                    <input type="number" id="growthYear2Input" min="10" max="500" step="1" value="60" style="margin-top: 10px;">
                    <div class="value-display" id="growth2Display">60 Schulen</div>
                    <div style="background: #eff6ff; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <strong>üìä Benchmark:</strong><br>
                        Konservativ: 30-50 | Realistisch: 60-100 | Optimistisch: 100-200
                    </div>
                </div>

                <!-- WACHSTUMSRATE JAHR 3 -->
                <div class="control-group">
                    <label for="growthYear3">üìà Schulen im Jahr 3 (kumulativ)</label>
                    <input type="range" id="growthYear3" min="50" max="1500" step="50" value="150">
                    <input type="number" id="growthYear3Input" min="50" max="2000" step="10" value="150" style="margin-top: 10px;">
                    <div class="value-display" id="growth3Display">150 Schulen</div>
                    <div style="background: #eff6ff; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <strong>üìä Benchmark:</strong><br>
                        Konservativ: 75-150 | Realistisch: 150-300 | Optimistisch: 300-500
                    </div>
                </div>

                <!-- WACHSTUMSRATE JAHR 4 -->
                <div class="control-group">
                    <label for="growthYear4">üìà Schulen im Jahr 4 (kumulativ)</label>
                    <input type="range" id="growthYear4" min="100" max="3000" step="100" value="300">
                    <input type="number" id="growthYear4Input" min="100" max="5000" step="50" value="300" style="margin-top: 10px;">
                    <div class="value-display" id="growth4Display">300 Schulen</div>
                    <div style="background: #eff6ff; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <strong>üìä Benchmark:</strong><br>
                        Konservativ: 150-300 | Realistisch: 300-600 | Optimistisch: 600-1.000
                    </div>
                </div>

                <!-- WACHSTUMSRATE JAHR 5 -->
                <div class="control-group">
                    <label for="growthYear5">üìà Schulen im Jahr 5 (kumulativ)</label>
                    <input type="range" id="growthYear5" min="200" max="5000" step="100" value="500">
                    <input type="number" id="growthYear5Input" min="200" max="10000" step="100" value="500" style="margin-top: 10px;">
                    <div class="value-display" id="growth5Display">500 Schulen</div>
                    <div style="background: #eff6ff; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.85rem;">
                        <strong>üìä Benchmark & Wettbewerber:</strong><br>
                        Sdui: ~2.500 | IServ: ~5.400 | SchoolFox: ~5.000 (nach Jahren!)<br>
                        Dein Ziel: 500-1.000 = 2,5-5% Marktanteil
                    </div>
                </div>
            </div>

            <div style="margin-top: 30px;">
                <button class="reset-btn" onclick="resetToDefaults()">üîÑ Zur√ºcksetzen auf Standard</button>
                <button class="export-btn" onclick="exportData()">üì• Daten exportieren (JSON)</button>
            </div>
        </div>

        <!-- KEY METRICS -->
        <div class="key-metrics">
            <div class="metric-card">
                <div class="label">Umsatz pro Schule/Jahr</div>
                <div class="value" id="arrPerSchool">‚Ç¨500</div>
            </div>
            <div class="metric-card">
                <div class="label">Monatliche Fixkosten</div>
                <div class="value" id="monthlyCosts">‚Ç¨15.000</div>
            </div>
            <div class="metric-card">
                <div class="label">J√§hrliche Fixkosten</div>
                <div class="value" id="yearlyCosts">‚Ç¨180.000</div>
            </div>
            <div class="metric-card">
                <div class="label">Break-Even bei</div>
                <div class="value" id="breakEvenSchools">360 Schulen</div>
            </div>
            <div class="metric-card">
                <div class="label">Jahr 5 Umsatz (bei <span id="year5Schools">500</span> Schulen)</div>
                <div class="value" id="year5Revenue">‚Ç¨250.000</div>
            </div>
        </div>

        <!-- BREAK-EVEN ANALYSE -->
        <div class="section">
            <h2 class="section-title">‚öñÔ∏è Break-Even Analyse</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>Kostenposition</th>
                        <th>Monatlich</th>
                        <th>J√§hrlich</th>
                    </tr>
                </thead>
                <tbody id="costsTable">
                    <!-- Filled by JavaScript -->
                </tbody>
            </table>

            <div class="calculation-box" id="breakEvenCalc">
                <!-- Filled by JavaScript -->
            </div>

            <div class="insight-box" id="breakEvenInsight">
                <!-- Filled by JavaScript -->
            </div>
        </div>

        <!-- 5-JAHRES PROJEKTION -->
        <div class="section">
            <h2 class="section-title">üìä 5-Jahres Umsatzprojektion</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>Jahr</th>
                        <th>Schulen (kumulativ)</th>
                        <th>ARR pro Schule</th>
                        <th>Jahresumsatz (ARR)</th>
                        <th>Setup-Umsatz</th>
                        <th>Gesamtumsatz</th>
                        <th>MRR</th>
                        <th>Gewinn/Verlust</th>
                    </tr>
                </thead>
                <tbody id="projectionTable">
                    <!-- Filled by JavaScript -->
                </tbody>
            </table>

            <div class="insight-box success">
                <h3>üí° Interpretation</h3>
                <p id="interpretationText">Passe die Parameter an, um verschiedene Szenarien zu sehen!</p>
            </div>
        </div>

        <!-- PREIS-SZENARIEN -->
        <div class="section">
            <h2 class="section-title">üí∂ Preis-Szenarien Vergleich</h2>
            <p style="margin-bottom: 20px; color: #64748b;">Wie √§ndert sich Break-Even bei verschiedenen Preisen? (bei aktueller Schulgr√∂√üe: <strong id="currentSchoolSize">500</strong> Sch√ºler)</p>
            
            <table>
                <thead>
                    <tr>
                        <th>Preis/Sch√ºler/Jahr</th>
                        <th>ARR pro Schule</th>
                        <th>Schulen f√ºr Break-Even</th>
                        <th>Zeit bis Break-Even (Jahre)</th>
                        <th>vs. Sdui (‚Ç¨1,50)</th>
                    </tr>
                </thead>
                <tbody id="priceScenariosTable">
                    <!-- Filled by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- MARKTPOTENZIAL -->
        <div class="section">
            <h2 class="section-title">üéØ Marktpotenzial bei verschiedenen Marktanteilen</h2>
            <p style="margin-bottom: 20px; color: #64748b;">Total Addressable Market (TAM): ~20.000 Schulen in Deutschland</p>
            
            <table>
                <thead>
                    <tr>
                        <th>Marktanteil</th>
                        <th>Anzahl Schulen</th>
                        <th>Jahresumsatz (ARR)</th>
                        <th>+ Setup (Jahr 1)</th>
                        <th>Gesamtumsatz Jahr 1</th>
                    </tr>
                </thead>
                <tbody id="marketShareTable">
                    <!-- Filled by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- PREISSTRATEGIE EMPFEHLUNG -->
        <div class="section" style="border: 3px solid #10b981;">
            <h2 class="section-title" style="font-size: 2rem;">üí° Empfohlene Preisstrategie f√ºr BrightBox</h2>
            <p style="font-size: 1.1rem; color: #64748b; margin-bottom: 30px;">
                Basierend auf der Wettbewerbsanalyse und Break-Even-Berechnungen - Zwei-Tier-Modell f√ºr maximalen Erfolg!
            </p>

            <!-- HAUPT-EMPFEHLUNG -->
            <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 40px; border-radius: 16px; margin-bottom: 40px;">
                <h3 style="font-size: 1.8rem; margin-bottom: 20px;">üéØ BESTE STRATEGIE: Zwei-Tier-Modell</h3>
                <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 20px;">
                    Starte g√ºnstig f√ºr schnelle Adoption, monetarisiere dann durch Premium-Features!
                </p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
                    <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 12px;">
                        <h4 style="font-size: 1.3rem; margin-bottom: 15px;">üì¶ BASIC Plan</h4>
                        <div style="font-size: 2.5rem; font-weight: 700; margin: 15px 0;">‚Ç¨1,00</div>
                        <div style="font-size: 1.1rem; opacity: 0.9;">pro Sch√ºler/Jahr</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 12px;">
                        <h4 style="font-size: 1.3rem; margin-bottom: 15px;">‚≠ê PREMIUM Plan</h4>
                        <div style="font-size: 2.5rem; font-weight: 700; margin: 15px 0;">‚Ç¨1,80</div>
                        <div style="font-size: 1.1rem; opacity: 0.9;">pro Sch√ºler/Jahr</div>
                    </div>
                </div>
                <div style="margin-top: 30px; padding-top: 30px; border-top: 2px solid rgba(255,255,255,0.3);">
                    <strong style="font-size: 1.2rem;">üìä Durchschnittlicher Umsatz:</strong>
                    <div style="font-size: 1.8rem; font-weight: 700; margin-top: 10px;">‚Ç¨1,30 - ‚Ç¨1,40 pro Sch√ºler</div>
                    <div style="font-size: 1rem; opacity: 0.9; margin-top: 5px;">(bei 35-50% Premium-Anteil)</div>
                </div>
            </div>

            <!-- DETAILLIERTE VERGLEICHS-TABELLE MIT EDITIERBAREN FEATURES -->
            <h3 style="font-size: 1.5rem; color: #10b981; margin: 40px 0 20px 0;">‚úèÔ∏è Preis-Pl√§ne (Features bearbeitbar)</h3>
            <p style="color: #64748b; margin-bottom: 20px;">Klicke auf die Features um sie zu bearbeiten, zu l√∂schen oder neue hinzuzuf√ºgen!</p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px; margin-bottom: 40px;">
                <!-- BASIC PLAN -->
                <div style="background: #f8fafc; padding: 30px; border-radius: 12px; border: 3px solid #e2e8f0;">
                    <h4 style="font-size: 1.3rem; margin-bottom: 10px; color: #1e293b;">üì¶ BASIC Plan</h4>
                    <div style="font-size: 2rem; font-weight: 700; color: #10b981; margin: 15px 0;">‚Ç¨1,00</div>
                    <div style="margin-bottom: 20px; color: #64748b;">pro Sch√ºler/Jahr</div>
                    
                    <div class="editable-features" id="basicFeatures">
                        <!-- Filled by JavaScript -->
                    </div>
                    <button class="add-feature-btn" onclick="addFeature('basic')">+ Feature hinzuf√ºgen</button>
                </div>

                <!-- PREMIUM PLAN -->
                <div style="background: #f0fdf4; padding: 30px; border-radius: 12px; border: 3px solid #10b981;">
                    <h4 style="font-size: 1.3rem; margin-bottom: 10px; color: #1e293b;">‚≠ê PREMIUM Plan</h4>
                    <div style="font-size: 2rem; font-weight: 700; color: #10b981; margin: 15px 0;">‚Ç¨1,80</div>
                    <div style="margin-bottom: 20px; color: #64748b;">pro Sch√ºler/Jahr</div>
                    
                    <div class="editable-features" id="premiumFeatures">
                        <!-- Filled by JavaScript -->
                    </div>
                    <button class="add-feature-btn" onclick="addFeature('premium')">+ Feature hinzuf√ºgen</button>
                </div>

                <!-- ENTERPRISE PLAN -->
                <div style="background: #eff6ff; padding: 30px; border-radius: 12px; border: 3px solid #3b82f6;">
                    <h4 style="font-size: 1.3rem; margin-bottom: 10px; color: #1e293b;">üè¢ ENTERPRISE Plan</h4>
                    <div style="font-size: 2rem; font-weight: 700; color: #3b82f6; margin: 15px 0;">‚Ç¨1,50</div>
                    <div style="margin-bottom: 20px; color: #64748b;">pro Sch√ºler/Jahr (Volumen)</div>
                    
                    <div class="editable-features" id="enterpriseFeatures">
                        <!-- Filled by JavaScript -->
                    </div>
                    <button class="add-feature-btn" onclick="addFeature('enterprise')">+ Feature hinzuf√ºgen</button>
                </div>
            </div>

            <!-- ORIGINAL STATIC TABLE FOR REFERENCE -->
            <details style="margin-top: 30px;">
                <summary style="cursor: pointer; font-weight: 600; color: #10b981; padding: 15px; background: #f0fdf4; border-radius: 8px;">
                    üìã Original-Tabelle anzeigen (nicht editierbar)
                </summary>
            <table style="margin-top: 40px;">
                <thead>
                    <tr>
                        <th>Plan</th>
                        <th>Preis/Sch√ºler/Jahr</th>
                        <th>Setup-Geb√ºhr</th>
                        <th>Features</th>
                        <th>Zielgruppe</th>
                        <th>Umsatz (500 SuS)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>BASIC</strong></td>
                        <td><strong>‚Ç¨1,00</strong></td>
                        <td>‚Ç¨200<br><small>(‚Ç¨0 ab 1.000 SuS)</small></td>
                        <td>
                            ‚úÖ One-Way Mitteilungen<br>
                            ‚úÖ Abwesenheitsmeldungen<br>
                            ‚úÖ Lesebest√§tigung<br>
                            ‚úÖ Stundenplan-View (WebUntis)<br>
                            ‚úÖ Multi-Language (Top 10)<br>
                            ‚úÖ Offline-Modus<br>
                            ‚úÖ Push-Notifications
                        </td>
                        <td>
                            ‚Ä¢ Kleine Schulen (<300 SuS)<br>
                            ‚Ä¢ Budget-bewusste Schulen<br>
                            ‚Ä¢ Pilotprojekte<br>
                            ‚Ä¢ Schneller Einstieg
                        </td>
                        <td><strong>‚Ç¨700</strong><br>(Jahr 1 inkl. Setup)</td>
                    </tr>
                    <tr style="background: #d1fae5;">
                        <td><strong>‚≠ê PREMIUM</strong></td>
                        <td><strong>‚Ç¨1,80</strong></td>
                        <td>‚Ç¨150<br><small>(‚Ç¨0 ab 1.000 SuS)</small></td>
                        <td>
                            <strong>BASIC Features +</strong><br>
                            ‚úÖ Digitales Klassenbuch<br>
                            ‚úÖ Premium Analytics (Schulleitung)<br>
                            ‚úÖ Cloud-Speicher (10 GB/Schule)<br>
                            ‚úÖ Terminbuchung<br>
                            ‚úÖ Umfragen & Abstimmungen<br>
                            ‚úÖ Priority Support<br>
                            ‚úÖ API-Zugang<br>
                            ‚úÖ Custom Branding
                        </td>
                        <td>
                            ‚Ä¢ Weiterf√ºhrende Schulen<br>
                            ‚Ä¢ Berufsschulen<br>
                            ‚Ä¢ Privatschulen<br>
                            ‚Ä¢ Tech-affine Schulen
                        </td>
                        <td><strong>‚Ç¨1.050</strong><br>(Jahr 1 inkl. Setup)</td>
                    </tr>
                    <tr>
                        <td><strong>ENTERPRISE</strong></td>
                        <td><strong>‚Ç¨1,50</strong></td>
                        <td>‚Ç¨0</td>
                        <td>
                            <strong>PREMIUM Features +</strong><br>
                            ‚úÖ White-Label<br>
                            ‚úÖ Dedizierte Instanz<br>
                            ‚úÖ SLA 99,9%<br>
                            ‚úÖ Dedicated Account Manager<br>
                            ‚úÖ Custom Entwicklung<br>
                            ‚úÖ Schultr√§ger-Dashboard<br>
                            ‚úÖ Multi-School Management
                        </td>
                        <td>
                            ‚Ä¢ Schultr√§ger<br>
                            ‚Ä¢ Kommunale Verb√ºnde<br>
                            ‚Ä¢ 10+ Schulen<br>
                            ‚Ä¢ Volumen-Kunden
                        </td>
                        <td><strong>‚Ç¨750</strong><br>(Mengenrabatt)<br>+ Pauschalgeb√ºhr</td>
                    </tr>
                </tbody>
            </table>
            </details>

            <!-- WETTBEWERBS-POSITIONIERUNG -->
            <div style="margin-top: 40px;">
                <h3 style="font-size: 1.5rem; color: #10b981; margin-bottom: 20px;">üìä Positionierung vs. Wettbewerb</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Anbieter</th>
                            <th>Preis</th>
                            <th>BrightBox BASIC</th>
                            <th>BrightBox PREMIUM</th>
                            <th>Vorteil</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>EduPage</strong></td>
                            <td>‚Ç¨0,70</td>
                            <td>+43% teurer</td>
                            <td>+157% teurer</td>
                            <td style="color: #ef4444;">‚ùå G√ºnstiger</td>
                        </tr>
                        <tr style="background: #d1fae5;">
                            <td><strong>Sdui</strong></td>
                            <td>‚Ç¨1,50</td>
                            <td style="color: #10b981; font-weight: 600;">‚úÖ 33% g√ºnstiger</td>
                            <td>+20% teurer</td>
                            <td style="color: #10b981;">‚úÖ BASIC g√ºnstiger</td>
                        </tr>
                        <tr>
                            <td><strong>SchoolFox</strong></td>
                            <td>‚Ç¨2,20</td>
                            <td style="color: #10b981; font-weight: 600;">‚úÖ 55% g√ºnstiger</td>
                            <td style="color: #10b981; font-weight: 600;">‚úÖ 18% g√ºnstiger</td>
                            <td style="color: #10b981;">‚úÖ Immer g√ºnstiger</td>
                        </tr>
                        <tr>
                            <td><strong>IServ</strong></td>
                            <td>‚Ç¨6,88</td>
                            <td style="color: #10b981; font-weight: 600;">‚úÖ 85% g√ºnstiger</td>
                            <td style="color: #10b981; font-weight: 600;">‚úÖ 74% g√ºnstiger</td>
                            <td style="color: #10b981;">‚úÖ Massiv g√ºnstiger</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- UMSATZ-HOCHRECHNUNG MIT ZWEI-TIER -->
            <div style="margin-top: 50px;">
                <h3 style="font-size: 1.5rem; color: #10b981; margin-bottom: 20px;">üí∞ Umsatz-Projektion mit Zwei-Tier-Modell</h3>
                <p style="color: #64748b; margin-bottom: 20px;">
                    Annahme: 60% w√§hlen BASIC (‚Ç¨1,00), 40% w√§hlen PREMIUM (‚Ç¨1,80) ‚Üí Durchschnitt: ‚Ç¨1,32/Sch√ºler
                </p>
                <table>
                    <thead>
                        <tr>
                            <th>Jahr</th>
                            <th>Schulen</th>
                            <th>BASIC (60%)</th>
                            <th>PREMIUM (40%)</th>
                            <th>√ò Umsatz/Schule</th>
                            <th>Gesamt ARR</th>
                            <th>vs. Nur BASIC (‚Ç¨1,00)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Jahr 1</strong></td>
                            <td>15</td>
                            <td>9</td>
                            <td>6</td>
                            <td>‚Ç¨660</td>
                            <td><strong>‚Ç¨9.900</strong></td>
                            <td style="color: #10b981; font-weight: 600;">+32%</td>
                        </tr>
                        <tr>
                            <td><strong>Jahr 2</strong></td>
                            <td>60</td>
                            <td>36</td>
                            <td>24</td>
                            <td>‚Ç¨660</td>
                            <td><strong>‚Ç¨39.600</strong></td>
                            <td style="color: #10b981; font-weight: 600;">+32%</td>
                        </tr>
                        <tr>
                            <td><strong>Jahr 3</strong></td>
                            <td>150</td>
                            <td>90</td>
                            <td>60</td>
                            <td>‚Ç¨660</td>
                            <td><strong>‚Ç¨99.000</strong></td>
                            <td style="color: #10b981; font-weight: 600;">+32%</td>
                        </tr>
                        <tr style="background: #d1fae5;">
                            <td><strong>Jahr 4</strong></td>
                            <td>300</td>
                            <td>180</td>
                            <td>120</td>
                            <td>‚Ç¨660</td>
                            <td><strong>‚Ç¨198.000</strong></td>
                            <td style="color: #10b981; font-weight: 600;">+32% ‚Üí Break-Even erreicht!</td>
                        </tr>
                        <tr>
                            <td><strong>Jahr 5</strong></td>
                            <td>500</td>
                            <td>300</td>
                            <td>200</td>
                            <td>‚Ç¨660</td>
                            <td><strong>‚Ç¨330.000</strong></td>
                            <td style="color: #10b981; font-weight: 600;">+32% (+‚Ç¨80.000!)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- KRITISCHE ERFOLGSFAKTOREN -->
            <div class="insight-box success" style="margin-top: 40px;">
                <h3>‚úÖ Warum diese Strategie funktioniert</h3>
                <ul style="list-style: none; margin-left: 0;">
                    <li style="padding: 12px 0; padding-left: 35px; position: relative;">
                        <span style="position: absolute; left: 0; font-size: 1.3rem; font-weight: 700;">1.</span>
                        <strong>Niedriger Einstieg (‚Ç¨1,00 BASIC):</strong> Keine Angst vor hohen Kosten ‚Üí schnelle Adoption
                    </li>
                    <li style="padding: 12px 0; padding-left: 35px; position: relative;">
                        <span style="position: absolute; left: 0; font-size: 1.3rem; font-weight: 700;">2.</span>
                        <strong>Nat√ºrliches Upselling:</strong> Schulen merken schnell, dass sie mehr Features brauchen
                    </li>
                    <li style="padding: 12px 0; padding-left: 35px; position: relative;">
                        <span style="position: absolute; left: 0; font-size: 1.3rem; font-weight: 700;">3.</span>
                        <strong>32% mehr Umsatz:</strong> Bei gleichem Kundenstamm vs. Einheitspreis ‚Ç¨1,00
                    </li>
                    <li style="padding: 12px 0; padding-left: 35px; position: relative;">
                        <span style="position: absolute; left: 0; font-size: 1.3rem; font-weight: 700;">4.</span>
                        <strong>Break-Even 1 Jahr fr√ºher:</strong> Mit ‚Ç¨1,32 Durchschnitt statt ‚Ç¨1,00
                    </li>
                    <li style="padding: 12px 0; padding-left: 35px; position: relative;">
                        <span style="position: absolute; left: 0; font-size: 1.3rem; font-weight: 700;">5.</span>
                        <strong>Wettbewerbsf√§hig:</strong> BASIC 33% g√ºnstiger als Sdui, PREMIUM nur 20% teurer
                    </li>
                    <li style="padding: 12px 0; padding-left: 35px; position: relative;">
                        <span style="position: absolute; left: 0; font-size: 1.3rem; font-weight: 700;">6.</span>
                        <strong>Qualit√§tssignal:</strong> Zwei Tiers zeigen Professionalit√§t, nicht "Billig-L√∂sung"
                    </li>
                </ul>
            </div>

            <!-- ALTERNATIVE STRATEGIEN -->
            <div style="margin-top: 40px;">
                <h3 style="font-size: 1.5rem; color: #10b981; margin-bottom: 20px;">üîÑ Alternative Strategien (wenn Zwei-Tier nicht passt)</h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="insight-box warning" style="margin: 0;">
                        <h4 style="font-size: 1.2rem; margin-bottom: 15px;">Plan B: Einheitspreis ‚Ç¨1,28</h4>
                        <p style="margin-bottom: 10px;"><strong>Vorteil:</strong> Einfach, keine Verwirrung</p>
                        <p style="margin-bottom: 10px;"><strong>Nachteil:</strong> Kein Upselling-Potenzial</p>
                        <p style="margin-bottom: 10px;"><strong>Empfehlung:</strong> Nur wenn du kein Premium entwickeln willst</p>
                        <p style="font-weight: 600; color: #ef4444;">Break-Even: ~280 Schulen (Jahr 3,5)</p>
                    </div>

                    <div class="insight-box info" style="margin: 0;">
                        <h4 style="font-size: 1.2rem; margin-bottom: 15px;">Plan C: Freemium + Premium</h4>
                        <p style="margin-bottom: 10px;"><strong>FREE:</strong> Bis 200 Sch√ºler GRATIS</p>
                        <p style="margin-bottom: 10px;"><strong>PREMIUM:</strong> ‚Ç¨1,80 ab 200+ Sch√ºler</p>
                        <p style="margin-bottom: 10px;"><strong>Vorteil:</strong> Virale Verbreitung</p>
                        <p style="font-weight: 600; color: #ef4444;">Risiko: Zu viele bleiben bei FREE</p>
                    </div>
                </div>
            </div>

            <!-- FINALE EMPFEHLUNG -->
            <div style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); color: white; padding: 50px; border-radius: 16px; margin-top: 50px; text-align: center;">
                <h3 style="font-size: 2rem; margin-bottom: 20px;">üéØ FINALE EMPFEHLUNG</h3>
                <p style="font-size: 1.3rem; line-height: 1.8; margin-bottom: 30px;">
                    Starte mit dem <strong>Zwei-Tier-Modell</strong> (BASIC ‚Ç¨1,00 + PREMIUM ‚Ç¨1,80)
                </p>
                <div style="background: rgba(255,255,255,0.2); padding: 30px; border-radius: 12px; margin-bottom: 30px;">
                    <div style="font-size: 1.2rem; margin-bottom: 15px;">Break-Even erreicht in:</div>
                    <div style="font-size: 3rem; font-weight: 700;">~3 Jahre</div>
                    <div style="font-size: 1.1rem; opacity: 0.9;">(bei 250-280 Schulen)</div>
                </div>
                <p style="font-size: 1.1rem; line-height: 1.6;">
                    Du bist <strong>wettbewerbsf√§hig</strong>, hast <strong>Upselling-Potenzial</strong> und erreichst Break-Even <strong>1 Jahr fr√ºher</strong> als mit Einheitspreis!
                </p>
            </div>

        </div>

    </div>

    <script>
        // ==================== VERSION MANAGEMENT & EDITABLE FEATURES ====================
        
        // DEFAULT FEATURES
        const defaultFeatures = {
            basic: [
                "‚úÖ One-Way Mitteilungen",
                "‚úÖ Abwesenheitsmeldungen",
                "‚úÖ Lesebest√§tigung",
                "‚úÖ Stundenplan-View (WebUntis)",
                "‚úÖ Multi-Language (Top 10)",
                "‚úÖ Offline-Modus",
                "‚úÖ Push-Notifications"
            ],
            premium: [
                "‚úÖ Alle BASIC Features",
                "‚úÖ Digitales Klassenbuch",
                "‚úÖ Premium Analytics (Schulleitung)",
                "‚úÖ Cloud-Speicher (10 GB/Schule)",
                "‚úÖ Terminbuchung",
                "‚úÖ Umfragen & Abstimmungen",
                "‚úÖ Priority Support",
                "‚úÖ API-Zugang",
                "‚úÖ Custom Branding"
            ],
            enterprise: [
                "‚úÖ Alle PREMIUM Features",
                "‚úÖ White-Label",
                "‚úÖ Dedizierte Instanz",
                "‚úÖ SLA 99,9%",
                "‚úÖ Dedicated Account Manager",
                "‚úÖ Custom Entwicklung",
                "‚úÖ Schultr√§ger-Dashboard",
                "‚úÖ Multi-School Management"
            ]
        };

        // CURRENT STATE
        let currentFeatures = JSON.parse(JSON.stringify(defaultFeatures));
        let savedVersions = JSON.parse(localStorage.getItem('brightboxVersions') || '[]');
        let customComments = JSON.parse(localStorage.getItem('brightboxComments') || '{}');

        // LOAD SAVED COMMENTS
        function loadComments() {
            const commentIds = ['devComment', 'marketingComment', 'infraComment', 'supportComment', 'otherComment'];
            commentIds.forEach(id => {
                const element = document.getElementById(id);
                if (element && customComments[id]) {
                    element.innerHTML = customComments[id];
                }
            });
        }

        // SAVE COMMENT
        function saveComment(commentId) {
            const element = document.getElementById(commentId);
            if (element) {
                customComments[commentId] = element.innerHTML;
                localStorage.setItem('brightboxComments', JSON.stringify(customComments));
            }
        }

        // RENDER FEATURES
        function renderFeatures() {
            ['basic', 'premium', 'enterprise'].forEach(plan => {
                const container = document.getElementById(plan + 'Features');
                if (!container) return;
                
                container.innerHTML = currentFeatures[plan].map((feature, index) => `
                    <div class="feature-item">
                        <input type="text" value="${feature.replace(/"/g, '&quot;')}" onchange="updateFeature('${plan}', ${index}, this.value)">
                        <button onclick="deleteFeature('${plan}', ${index})" title="Feature l√∂schen">‚ùå</button>
                    </div>
                `).join('');
            });
        }

        // UPDATE FEATURE
        function updateFeature(plan, index, value) {
            currentFeatures[plan][index] = value;
        }

        // DELETE FEATURE
        function deleteFeature(plan, index) {
            if (confirm('Feature wirklich l√∂schen?')) {
                currentFeatures[plan].splice(index, 1);
                renderFeatures();
            }
        }

        // ADD FEATURE
        function addFeature(plan) {
            const newFeature = prompt('Neues Feature eingeben:', '‚úÖ Neues Feature');
            if (newFeature) {
                currentFeatures[plan].push(newFeature);
                renderFeatures();
            }
        }

        // SAVE VERSION
        function saveVersion() {
            const versionName = document.getElementById('versionName').value.trim();
            if (!versionName) {
                alert('‚ö†Ô∏è Bitte gib einen Namen f√ºr die Version ein!');
                return;
            }
            
            const version = {
                id: Date.now(),
                name: versionName,
                timestamp: new Date().toISOString(),
                parameters: {
                    pricePerStudent: parseFloat(inputs.pricePerStudent.value),
                    avgSchoolSize: parseInt(inputs.avgSchoolSize.value),
                    setupFee: parseInt(inputs.setupFee.value),
                    devCost: parseInt(inputs.devCost.value),
                    marketingCost: parseInt(inputs.marketingCost.value),
                    infraCost: parseInt(inputs.infraCost.value),
                    supportCost: parseInt(inputs.supportCost.value),
                    otherCost: parseInt(inputs.otherCost.value),
                    growthYear1: parseInt(inputs.growthYear1.value),
                    growthYear2: parseInt(inputs.growthYear2.value),
                    growthYear3: parseInt(inputs.growthYear3.value),
                    growthYear4: parseInt(inputs.growthYear4.value),
                    growthYear5: parseInt(inputs.growthYear5.value)
                },
                features: JSON.parse(JSON.stringify(currentFeatures)),
                comments: JSON.parse(JSON.stringify(customComments))
            };

            savedVersions.push(version);
            localStorage.setItem('brightboxVersions', JSON.stringify(savedVersions));
            
            renderVersionsList();
            document.getElementById('versionName').value = '';
            alert('‚úÖ Version "' + versionName + '" erfolgreich gespeichert!');
        }

        // LOAD VERSION
        function loadVersion(id) {
            const version = savedVersions.find(v => v.id === id);
            if (!version) return;

            // Load parameters
            Object.keys(version.parameters).forEach(key => {
                if (inputs[key]) {
                    inputs[key].value = version.parameters[key];
                }
            });
            
            // Load features
            currentFeatures = JSON.parse(JSON.stringify(version.features));
            
            // Load comments if available
            if (version.comments) {
                customComments = JSON.parse(JSON.stringify(version.comments));
                loadComments();
            }
            
            // Update UI
            updateDisplays();
            calculate();
            renderFeatures();
            renderVersionsList();
            
            alert('‚úÖ Version "' + version.name + '" geladen!');
        }

        // DELETE VERSION
        function deleteVersion(id) {
            const version = savedVersions.find(v => v.id === id);
            if (!version) return;
            
            if (!confirm('Version "' + version.name + '" wirklich l√∂schen?')) return;
            
            savedVersions = savedVersions.filter(v => v.id !== id);
            localStorage.setItem('brightboxVersions', JSON.stringify(savedVersions));
            renderVersionsList();
        }

        // CLEAR ALL VERSIONS
        function clearAllVersions() {
            if (!confirm('Wirklich ALLE ' + savedVersions.length + ' Versionen l√∂schen?')) return;
            
            savedVersions = [];
            localStorage.removeItem('brightboxVersions');
            renderVersionsList();
            alert('‚úÖ Alle Versionen gel√∂scht!');
        }

        // RENDER VERSIONS LIST
        function renderVersionsList() {
            const container = document.getElementById('savedVersionsList');
            
            if (savedVersions.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 30px; color: #64748b;">Keine gespeicherten Versionen. Erstelle deine erste Version oben!</div>';
                return;
            }

            container.innerHTML = savedVersions.map(version => {
                const date = new Date(version.timestamp);
                const dateStr = date.toLocaleDateString('de-DE', { 
                    year: 'numeric', month: '2-digit', day: '2-digit',
                    hour: '2-digit', minute: '2-digit'
                });
                
                return `
                    <div class="version-item">
                        <div class="version-info">
                            <div class="version-name">üìå ${version.name}</div>
                            <div class="version-details">
                                ${dateStr} | 
                                Preis: ‚Ç¨${version.parameters.pricePerStudent.toFixed(2)} | 
                                Schulgr√∂√üe: ${version.parameters.avgSchoolSize} SuS | 
                                Setup: ‚Ç¨${version.parameters.setupFee} |
                                Jahr 5: ${version.parameters.growthYear5} Schulen
                            </div>
                        </div>
                        <div class="version-actions">
                            <button class="load-btn" onclick="loadVersion(${version.id})">üìÇ Laden</button>
                            <button class="delete-version-btn" onclick="deleteVersion(${version.id})">üóëÔ∏è</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // EXPORT ALL VERSIONS
        function exportAllVersions() {
            if (savedVersions.length === 0) {
                alert('‚ö†Ô∏è Keine Versionen zum Exportieren vorhanden!');
                return;
            }
            
            const data = {
                versions: savedVersions,
                exportDate: new Date().toISOString(),
                totalVersions: savedVersions.length
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'brightbox-versionen-' + new Date().toISOString().split('T')[0] + '.json';
            a.click();
            
            alert('‚úÖ ' + savedVersions.length + ' Versionen exportiert!');
        }

        // ==================== ORIGINAL CALCULATOR CODE ====================
        
        // DEFAULT WERTE
        const defaults = {
            pricePerStudent: 1.0,
            avgSchoolSize: 500,
            setupFee: 200,
            devCost: 10000,
            marketingCost: 2000,
            infraCost: 500,
            supportCost: 1500,
            otherCost: 1000,
            growthYear1: 15,
            growthYear2: 60,
            growthYear3: 150,
            growthYear4: 300,
            growthYear5: 500
        };

        // ALLE INPUTS
        const inputs = {
            pricePerStudent: document.getElementById('pricePerStudent'),
            avgSchoolSize: document.getElementById('avgSchoolSize'),
            setupFee: document.getElementById('setupFee'),
            devCost: document.getElementById('devCost'),
            marketingCost: document.getElementById('marketingCost'),
            infraCost: document.getElementById('infraCost'),
            supportCost: document.getElementById('supportCost'),
            otherCost: document.getElementById('otherCost'),
            growthYear1: document.getElementById('growthYear1'),
            growthYear2: document.getElementById('growthYear2'),
            growthYear3: document.getElementById('growthYear3'),
            growthYear4: document.getElementById('growthYear4'),
            growthYear5: document.getElementById('growthYear5')
        };

        // FORMAT FUNKTIONEN
        function formatEuro(num) {
            return '‚Ç¨' + num.toLocaleString('de-DE', {minimumFractionDigits: 0, maximumFractionDigits: 0});
        }

        function formatEuroDecimal(num) {
            return '‚Ç¨' + num.toLocaleString('de-DE', {minimumFractionDigits: 2, maximumFractionDigits: 2});
        }

        // UPDATE DISPLAYS
        function updateDisplays() {
            document.getElementById('priceDisplay').textContent = formatEuroDecimal(parseFloat(inputs.pricePerStudent.value));
            document.getElementById('pricePerStudentInput').value = parseFloat(inputs.pricePerStudent.value).toFixed(2);
            
            document.getElementById('sizeDisplay').textContent = inputs.avgSchoolSize.value + ' Sch√ºler';
            document.getElementById('avgSchoolSizeInput').value = inputs.avgSchoolSize.value;
            
            document.getElementById('setupDisplay').textContent = formatEuro(parseInt(inputs.setupFee.value));
            document.getElementById('setupFeeInput').value = inputs.setupFee.value;
            
            document.getElementById('devDisplay').textContent = formatEuro(parseInt(inputs.devCost.value));
            document.getElementById('devCostInput').value = inputs.devCost.value;
            
            document.getElementById('marketingDisplay').textContent = formatEuro(parseInt(inputs.marketingCost.value));
            document.getElementById('marketingCostInput').value = inputs.marketingCost.value;
            
            document.getElementById('infraDisplay').textContent = formatEuro(parseInt(inputs.infraCost.value));
            document.getElementById('infraCostInput').value = inputs.infraCost.value;
            
            document.getElementById('supportDisplay').textContent = formatEuro(parseInt(inputs.supportCost.value));
            document.getElementById('supportCostInput').value = inputs.supportCost.value;
            
            document.getElementById('otherDisplay').textContent = formatEuro(parseInt(inputs.otherCost.value));
            document.getElementById('otherCostInput').value = inputs.otherCost.value;
            
            document.getElementById('growth1Display').textContent = inputs.growthYear1.value + ' Schulen';
            document.getElementById('growthYear1Input').value = inputs.growthYear1.value;
            
            document.getElementById('growth2Display').textContent = inputs.growthYear2.value + ' Schulen';
            document.getElementById('growthYear2Input').value = inputs.growthYear2.value;
            
            document.getElementById('growth3Display').textContent = inputs.growthYear3.value + ' Schulen';
            document.getElementById('growthYear3Input').value = inputs.growthYear3.value;
            
            document.getElementById('growth4Display').textContent = inputs.growthYear4.value + ' Schulen';
            document.getElementById('growthYear4Input').value = inputs.growthYear4.value;
            
            document.getElementById('growth5Display').textContent = inputs.growthYear5.value + ' Schulen';
            document.getElementById('growthYear5Input').value = inputs.growthYear5.value;
        }

        // BERECHNE ALLES
        function calculate() {
            const price = parseFloat(inputs.pricePerStudent.value);
            const schoolSize = parseInt(inputs.avgSchoolSize.value);
            const setupFee = parseInt(inputs.setupFee.value);
            const devCost = parseInt(inputs.devCost.value);
            const marketingCost = parseInt(inputs.marketingCost.value);
            const infraCost = parseInt(inputs.infraCost.value);
            const supportCost = parseInt(inputs.supportCost.value);
            const otherCost = parseInt(inputs.otherCost.value);

            const growth = [
                parseInt(inputs.growthYear1.value),
                parseInt(inputs.growthYear2.value),
                parseInt(inputs.growthYear3.value),
                parseInt(inputs.growthYear4.value),
                parseInt(inputs.growthYear5.value)
            ];

            // KOSTEN
            const monthlyCosts = devCost + marketingCost + infraCost + supportCost + otherCost;
            const yearlyCosts = monthlyCosts * 12;

            // ARR PRO SCHULE
            const arrPerSchool = price * schoolSize;

            // BREAK-EVEN
            const breakEvenSchools = Math.ceil(yearlyCosts / arrPerSchool);

            // UPDATE KEY METRICS
            document.getElementById('arrPerSchool').textContent = formatEuro(arrPerSchool);
            document.getElementById('monthlyCosts').textContent = formatEuro(monthlyCosts);
            document.getElementById('yearlyCosts').textContent = formatEuro(yearlyCosts);
            document.getElementById('breakEvenSchools').textContent = breakEvenSchools + ' Schulen';
            document.getElementById('year5Schools').textContent = growth[4];
            document.getElementById('year5Revenue').textContent = formatEuro(growth[4] * arrPerSchool);

            // UPDATE COSTS TABLE
            updateCostsTable(devCost, marketingCost, infraCost, supportCost, otherCost, monthlyCosts, yearlyCosts);

            // UPDATE BREAK-EVEN CALC
            updateBreakEvenCalc(yearlyCosts, arrPerSchool, setupFee, breakEvenSchools);

            // UPDATE PROJECTION TABLE
            updateProjectionTable(growth, arrPerSchool, setupFee, yearlyCosts);

            // UPDATE PRICE SCENARIOS
            updatePriceScenariosTable(schoolSize, yearlyCosts, setupFee);

            // UPDATE MARKET SHARE TABLE
            updateMarketShareTable(arrPerSchool, setupFee);

            // UPDATE CURRENT SCHOOL SIZE
            document.getElementById('currentSchoolSize').textContent = schoolSize;
        }

        function updateCostsTable(dev, marketing, infra, support, other, monthly, yearly) {
            const tbody = document.getElementById('costsTable');
            tbody.innerHTML = `
                <tr>
                    <td><strong>Entwicklung</strong></td>
                    <td>${formatEuro(dev)}</td>
                    <td>${formatEuro(dev * 12)}</td>
                </tr>
                <tr>
                    <td><strong>Marketing & Sales</strong></td>
                    <td>${formatEuro(marketing)}</td>
                    <td>${formatEuro(marketing * 12)}</td>
                </tr>
                <tr>
                    <td><strong>Infrastruktur</strong></td>
                    <td>${formatEuro(infra)}</td>
                    <td>${formatEuro(infra * 12)}</td>
                </tr>
                <tr>
                    <td><strong>Support & Operations</strong></td>
                    <td>${formatEuro(support)}</td>
                    <td>${formatEuro(support * 12)}</td>
                </tr>
                <tr>
                    <td><strong>Sonstiges</strong></td>
                    <td>${formatEuro(other)}</td>
                    <td>${formatEuro(other * 12)}</td>
                </tr>
                <tr class="highlight-row">
                    <td><strong>GESAMT</strong></td>
                    <td><strong>${formatEuro(monthly)}</strong></td>
                    <td><strong>${formatEuro(yearly)}</strong></td>
                </tr>
            `;
        }

        function updateBreakEvenCalc(yearlyCosts, arrPerSchool, setupFee, breakEvenSchools) {
            const avgFirstYear = arrPerSchool + (setupFee * 0.7); // Annahme: 70% zahlen Setup
            
            const box = document.getElementById('breakEvenCalc');
            box.innerHTML = `
                <strong>üí° Break-Even Rechnung:</strong><br><br>
                J√§hrliche Fixkosten: ${formatEuro(yearlyCosts)}<br>
                √ò ARR pro Schule: ${formatEuro(arrPerSchool)}<br>
                √ò Setup-Umsatz pro Schule: ${formatEuro(setupFee * 0.7)}<br>
                <strong>‚Üí √ò Gesamtumsatz pro Schule (Jahr 1-3): ${formatEuro(avgFirstYear)}</strong><br><br>
                
                <strong>Break-Even bei: ${formatEuro(yearlyCosts)} √∑ ${formatEuro(avgFirstYear)} = ${breakEvenSchools} Schulen</strong>
            `;

            const insight = document.getElementById('breakEvenInsight');
            if (breakEvenSchools <= 200) {
                insight.className = 'insight-box success';
                insight.innerHTML = `
                    <h3>‚úÖ Gute Nachrichten!</h3>
                    <p>Mit nur ${breakEvenSchools} Schulen erreichst du Break-Even. Das ist ein realistisches Ziel innerhalb von 2-3 Jahren!</p>
                `;
            } else if (breakEvenSchools <= 400) {
                insight.className = 'insight-box warning';
                insight.innerHTML = `
                    <h3>‚ö†Ô∏è Herausfordernd aber machbar</h3>
                    <p>${breakEvenSchools} Schulen f√ºr Break-Even bedeutet 3-4 Jahre bis zur Profitabilit√§t. √úberlege dir Premium-Features f√ºr h√∂here ARR!</p>
                `;
            } else {
                insight.className = 'insight-box warning';
                insight.innerHTML = `
                    <h3>üö® Kritisch: Break-Even zu hoch!</h3>
                    <p>${breakEvenSchools} Schulen sind sehr schwer zu erreichen. Du solltest entweder die Preise erh√∂hen oder die Kosten senken.</p>
                `;
            }
        }

        function updateProjectionTable(growth, arrPerSchool, setupFee, yearlyCosts) {
            const tbody = document.getElementById('projectionTable');
            let html = '';

            for (let i = 0; i < 5; i++) {
                const schools = growth[i];
                const arr = schools * arrPerSchool;
                const setupRevenue = (i === 0 ? schools : (schools - growth[i-1])) * setupFee * 0.7;
                const totalRevenue = arr + setupRevenue;
                const mrr = arr / 12;
                const profitLoss = totalRevenue - yearlyCosts;
                const profitColor = profitLoss >= 0 ? '#10b981' : '#ef4444';

                html += `
                    <tr class="${i === 4 ? 'highlight-row' : ''}">
                        <td><strong>Jahr ${i + 1}</strong></td>
                        <td>${schools}</td>
                        <td>${formatEuro(arrPerSchool)}</td>
                        <td>${formatEuro(arr)}</td>
                        <td>${formatEuro(setupRevenue)}</td>
                        <td><strong>${formatEuro(totalRevenue)}</strong></td>
                        <td>${formatEuro(mrr)}</td>
                        <td style="color: ${profitColor}; font-weight: 600;">${formatEuro(profitLoss)}</td>
                    </tr>
                `;
            }

            tbody.innerHTML = html;

            // UPDATE INTERPRETATION
            const year5Profit = (growth[4] * arrPerSchool) - yearlyCosts;
            const breakEvenYear = growth.findIndex((schools, i) => {
                const revenue = schools * arrPerSchool + (i === 0 ? schools : (schools - growth[i-1])) * setupFee * 0.7;
                return revenue >= yearlyCosts;
            });

            let interpretation = '';
            if (breakEvenYear === -1) {
                interpretation = '‚ö†Ô∏è <strong>Break-Even wird in 5 Jahren nicht erreicht.</strong> √úberdenke deine Preisstrategie oder senke die Kosten!';
            } else {
                interpretation = `‚úÖ <strong>Break-Even wird in Jahr ${breakEvenYear + 1} erreicht!</strong> Ab dann bist du profitabel. In Jahr 5 machst du ${formatEuro(year5Profit)} Gewinn.`;
            }

            document.getElementById('interpretationText').innerHTML = interpretation;
        }

        function updatePriceScenariosTable(schoolSize, yearlyCosts, setupFee) {
            const tbody = document.getElementById('priceScenariosTable');
            const prices = [0.8, 1.0, 1.28, 1.5, 2.0, 2.5];
            let html = '';

            prices.forEach(price => {
                const arr = price * schoolSize;
                const avgRevenue = arr + (setupFee * 0.7);
                const breakEven = Math.ceil(yearlyCosts / avgRevenue);
                const timeToBreakEven = (breakEven / 100).toFixed(1); // Annahme: 100 Schulen/Jahr
                const vsSdui = ((price - 1.5) / 1.5 * 100).toFixed(0);
                const vsSduiText = vsSdui > 0 ? `+${vsSdui}%` : `${vsSdui}%`;

                html += `
                    <tr>
                        <td><strong>${formatEuroDecimal(price)}</strong></td>
                        <td>${formatEuro(arr)}</td>
                        <td>${breakEven} Schulen</td>
                        <td>${timeToBreakEven} Jahre</td>
                        <td>${vsSduiText}</td>
                    </tr>
                `;
            });

            tbody.innerHTML = html;
        }

        function updateMarketShareTable(arrPerSchool, setupFee) {
            const tbody = document.getElementById('marketShareTable');
            const marketShares = [
                { label: '0,5% (Minimal)', schools: 100 },
                { label: '1% (Nische)', schools: 200 },
                { label: '2,5% (Realistisch)', schools: 500, highlight: true },
                { label: '5% (Ambitioniert)', schools: 1000 },
                { label: '7,5% (Marktf√ºhrer Nische)', schools: 1500 },
                { label: '10% (Dominanz)', schools: 2000 }
            ];

            let html = '';
            marketShares.forEach(ms => {
                const arr = ms.schools * arrPerSchool;
                const setupRevenue = ms.schools * setupFee * 0.7;
                const total = arr + setupRevenue;

                html += `
                    <tr class="${ms.highlight ? 'scenario-realistic' : ''}">
                        <td>${ms.label}</td>
                        <td>${ms.schools}</td>
                        <td>${formatEuro(arr)}</td>
                        <td>${formatEuro(setupRevenue)}</td>
                        <td><strong>${formatEuro(total)}</strong></td>
                    </tr>
                `;
            });

            tbody.innerHTML = html;
        }

        // RESET FUNKTION
        function resetToDefaults() {
            Object.keys(defaults).forEach(key => {
                inputs[key].value = defaults[key];
            });
            updateDisplays();
            calculate();
        }

        // EXPORT FUNKTION
        function exportData() {
            const data = {
                parameters: {
                    pricePerStudent: parseFloat(inputs.pricePerStudent.value),
                    avgSchoolSize: parseInt(inputs.avgSchoolSize.value),
                    setupFee: parseInt(inputs.setupFee.value),
                    costs: {
                        development: parseInt(inputs.devCost.value),
                        marketing: parseInt(inputs.marketingCost.value),
                        infrastructure: parseInt(inputs.infraCost.value),
                        support: parseInt(inputs.supportCost.value),
                        other: parseInt(inputs.otherCost.value)
                    },
                    growth: {
                        year1: parseInt(inputs.growthYear1.value),
                        year2: parseInt(inputs.growthYear2.value),
                        year3: parseInt(inputs.growthYear3.value),
                        year4: parseInt(inputs.growthYear4.value),
                        year5: parseInt(inputs.growthYear5.value)
                    }
                },
                calculations: {
                    arrPerSchool: parseFloat(inputs.pricePerStudent.value) * parseInt(inputs.avgSchoolSize.value),
                    monthlyCosts: parseInt(inputs.devCost.value) + parseInt(inputs.marketingCost.value) + 
                                  parseInt(inputs.infraCost.value) + parseInt(inputs.supportCost.value) + 
                                  parseInt(inputs.otherCost.value),
                    yearlyCosts: (parseInt(inputs.devCost.value) + parseInt(inputs.marketingCost.value) + 
                                  parseInt(inputs.infraCost.value) + parseInt(inputs.supportCost.value) + 
                                  parseInt(inputs.otherCost.value)) * 12
                },
                timestamp: new Date().toISOString()
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'brightbox-calculator-' + new Date().toISOString().split('T')[0] + '.json';
            a.click();
        }

        // EVENT LISTENERS
        Object.values(inputs).forEach(input => {
            input.addEventListener('input', () => {
                updateDisplays();
                calculate();
            });
        });

        // Sync between slider and number input for all parameters
        const numberInputs = [
            { slider: inputs.pricePerStudent, input: document.getElementById('pricePerStudentInput') },
            { slider: inputs.avgSchoolSize, input: document.getElementById('avgSchoolSizeInput') },
            { slider: inputs.setupFee, input: document.getElementById('setupFeeInput') },
            { slider: inputs.devCost, input: document.getElementById('devCostInput') },
            { slider: inputs.marketingCost, input: document.getElementById('marketingCostInput') },
            { slider: inputs.infraCost, input: document.getElementById('infraCostInput') },
            { slider: inputs.supportCost, input: document.getElementById('supportCostInput') },
            { slider: inputs.otherCost, input: document.getElementById('otherCostInput') },
            { slider: inputs.growthYear1, input: document.getElementById('growthYear1Input') },
            { slider: inputs.growthYear2, input: document.getElementById('growthYear2Input') },
            { slider: inputs.growthYear3, input: document.getElementById('growthYear3Input') },
            { slider: inputs.growthYear4, input: document.getElementById('growthYear4Input') },
            { slider: inputs.growthYear5, input: document.getElementById('growthYear5Input') }
        ];

        numberInputs.forEach(pair => {
            pair.input.addEventListener('input', () => {
                pair.slider.value = pair.input.value;
                updateDisplays();
                calculate();
            });
        });

        // INITIAL BERECHNUNG
        updateDisplays();
        calculate();
        renderFeatures();
        renderVersionsList();
        loadComments();
    </script>
</body>
</html>